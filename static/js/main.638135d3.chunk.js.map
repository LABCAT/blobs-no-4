{"version":3,"sources":["js/helpers/Globals.js","js/functions/PlayIcon.js","audio/blobs-no-4.ogg","audio/blobs-no-4.mid","js/P5SketchWithAudio.js","js/App.js","index.js"],"names":["window","p5","PlayIcon","_jsxs","id","className","xmlns","height","viewBox","width","children","_jsx","d","fill","P5SketchWithAudio","sketchRef","useRef","Sketch","p","idCount","blobs","Map","Engine","Matter","Runner","Bodies","Composite","engine","create","gravity","x","y","world","runner","canvas","canvasWidth","innerWidth","canvasHeight","innerHeight","audioLoaded","PPQ","simplexNoiseSeed","random","noise4D","createNoise4D","drawBlob","radius","noiseWeight","amount","t","nxOff","nyOff","strokeWeight","push","beginShape","i","TWO_PI","cos","sin","nx","ny","curveVertex","endShape","pop","Blob","r","color","isLayered","body","circle","angle","restitution","add","show","translate","position","rotate","stroke","frameCount","noFill","remove","loadMidi","Midi","fromUrl","midi","then","result","console","log","noteSet1","tracks","notes","scheduleCueSet","noteSet2","noteSet3","document","getElementById","classList","preload","song","loadSound","audio","onended","logCredits","noteSet","callbackName","poly","arguments","length","undefined","lastTicks","currentCue","note","ticks","time","addCue","init","bodies","buildWall","themes","name","ranges","currentTheme","setup","createCanvas","colorMode","HSB","Math","run","draw","background","forEach","blob","showWall","maxCount","executeCueSet1","_ref","removeWall","setTimeout","count","floor","hue","colour","addRandomBlobs","executeCueSet2","executeCueSet3","pos","baseSize","nodeNum","isFill","set","MAX_THICKNESS","walls","Wall","w","h","dir","opt","rectangle","thickness","rectMode","CENTER","noStroke","rect","min","isStatic","b","l","mousePressed","isPlaying","pause","parseInt","currentTime","buffer","duration","reset","addClass","play","creditsLogged","stop","updateCanvasDimensions","resizeCanvas","attachEvent","addEventListener","useEffect","current","ref","App","ReactDOM","render","React","StrictMode"],"mappings":"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","file":"static/js/main.638135d3.chunk.js","sourcesContent":["// p5.sound doesn't work correctly when p5 is not available in the global name space so we add it here\n// https://github.com/processing/p5.js-sound/issues/512\nimport * as p5 from \"p5\";\nwindow.p5 = p5;\n","export default function PlayIcon() {\n    return (\n        <svg id=\"play-icon\" className='fade-out' xmlns=\"http://www.w3.org/2000/svg\" height=\"24\" viewBox=\"0 0 24 24\" width=\"24\">\n            <path d=\"M0 0h24v24H0z\" fill=\"none\" />\n            <path d=\"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\" />\n        </svg>\n    )\n}\n","export default __webpack_public_path__ + \"static/media/blobs-no-4.19b9a635.ogg\";","export default __webpack_public_path__ + \"static/media/blobs-no-4.72d5b280.mid\";","    import React, { useRef, useEffect } from \"react\";\r\n    import \"./helpers/Globals\";\r\n    import \"p5/lib/addons/p5.sound\";\r\n    import * as p5 from \"p5\";\r\n    import { Midi } from '@tonejs/midi';\r\n    import Matter from 'matter-js';\r\n    import { createNoise4D } from \"simplex-noise\";\r\n\r\n    import PlayIcon from './functions/PlayIcon.js';\r\n    import audio from \"../audio/blobs-no-4.ogg\";\r\n    import midi from \"../audio/blobs-no-4.mid\";\r\n\r\n    const P5SketchWithAudio = () => {\r\n        const sketchRef = useRef();\r\n\r\n        const Sketch = p => {\r\n            let blobs = new Map();\r\n            let idCount;\r\n\r\n            const Engine = Matter.Engine;\r\n            const Runner = Matter.Runner;\r\n            const Bodies = Matter.Bodies;\r\n            const Composite = Matter.Composite;\r\n\r\n            const engine = Engine.create({\r\n                gravity: { x: 0, y: 4 }\r\n            });;\r\n            const world = engine.world;\r\n            const runner = Runner.create();\r\n\r\n            p.canvas = null;\r\n            p.canvasWidth = window.innerWidth;\r\n            p.canvasHeight = window.innerHeight;\r\n            p.audioLoaded = false;\r\n            p.PPQ = 3840 * 4;\r\n\r\n            const simplexNoiseSeed = p.random();\r\n            const noise4D = createNoise4D(() => simplexNoiseSeed);\r\n\r\n            const drawBlob = (radius, noiseWeight, amount, t, nxOff, nyOff) => {\r\n                p.strokeWeight(4);\r\n                p.push();\r\n                p.beginShape();\r\n                for (let i = 0; i < (p.TWO_PI / amount) * (amount + 3); i += p.TWO_PI / amount) {\r\n                    const x = p.cos(i) * radius;\r\n                    const y = p.sin(i) * radius;\r\n                    const nx = noise4D(x + nxOff.x, y + nxOff.y, p.cos(t), p.sin(t));\r\n                    const ny = noise4D(x + nyOff.x, y + nyOff.y, p.cos(t), p.sin(t));\r\n                    p.curveVertex(x + nx * noiseWeight, y + ny * noiseWeight);\r\n                }\r\n                p.endShape();\r\n                p.pop();\r\n            }\r\n\r\n            const Blob = (x, y, r, color, fill, isLayered) => {\r\n                const body = Bodies.circle(x, y, r, {\r\n                    angle: p.random(p.TWO_PI),\r\n                    restitution: 0.5\r\n                });\r\n                const nxOff = { x: p.random(1000), y: p.random(1000) };\r\n                const nyOff = { x: p.random(1000), y: p.random(1000) };\r\n                Composite.add(world, body);\r\n                \r\n                const drawLayeredBlob = () => {\r\n                    p.push();\r\n                    p.translate(body.position.x, body.position.y);\r\n                    p.rotate(body.angle);\r\n                    \r\n                    p.stroke(color);\r\n                    p.fill(0, 0, 100, 0.88);\r\n                    drawBlob(r * 1.5, 5, 5, p.frameCount * 0.01, nxOff, nyOff);\r\n                    \r\n                    p.stroke(color);\r\n                    p.fill(color);\r\n                    drawBlob(r * 1.2, 5, 5, p.frameCount * 0.01, nxOff, nyOff);\r\n                    \r\n                    p.stroke(0, 0, 100);\r\n                    drawBlob(r * 0.9, 5, 5, p.frameCount * 0.01, nxOff, nyOff);\r\n                    p.pop();\r\n                };\r\n\r\n                return {\r\n                    body,\r\n                    show: () => {\r\n                        if (isLayered) {\r\n                            drawLayeredBlob();\r\n                        } else {\r\n                            p.push();\r\n                            p.stroke(color);\r\n                            if (fill) p.fill(color);\r\n                            else p.noFill();\r\n                            p.translate(body.position.x, body.position.y);\r\n                            p.rotate(body.angle);\r\n                            drawBlob(r * 0.75, 5, 5, p.frameCount * 0.01, nxOff, nyOff);\r\n                            p.pop();\r\n                        }\r\n                    },\r\n                    remove: () => Composite.remove(world, body)\r\n                };\r\n            }\r\n\r\n            p.loadMidi = () => {\r\n                Midi.fromUrl(midi).then(result => {\r\n                    console.log(result);\r\n                    \r\n                    const noteSet1 = result.tracks[8].notes; //Reactor 6 - Lazerbass - Eraser-Bass\r\n                    p.scheduleCueSet(noteSet1, 'executeCueSet1');\r\n                    const noteSet2 = result.tracks[2].notes; // Combinator - Sparkly Guitar\r\n                    p.scheduleCueSet(noteSet2, 'executeCueSet2');\r\n                    const noteSet3 = result.tracks[1].notes; // Combinator - Sparkly Guitar\r\n                    p.scheduleCueSet(noteSet3, 'executeCueSet3');\r\n                    p.audioLoaded = true;\r\n                    document.getElementById(\"loader\").classList.add(\"loading--complete\");\r\n                    document.getElementById(\"play-icon\").classList.remove(\"fade-out\");\r\n                });\r\n            }\r\n\r\n            p.preload = () => {\r\n                p.song = p.loadSound(audio, p.loadMidi);\r\n                p.song.onended(p.logCredits);\r\n            }\r\n\r\n            p.scheduleCueSet = (noteSet, callbackName, poly = false) => {\r\n                let lastTicks = -1, currentCue = 1;\r\n                for (let i = 0; i < noteSet.length; i++) {\r\n                    const note = noteSet[i],\r\n                        { ticks, time } = note;\r\n                    if(ticks !== lastTicks || poly){\r\n                        note.currentCue = currentCue;\r\n                        p.song.addCue(time, p[callbackName], note);\r\n                        lastTicks = ticks;\r\n                        currentCue++;\r\n                    }\r\n                }\r\n            }\r\n\r\n            const init = () => {\r\n                idCount = 0\r\n                engine.world.bodies = [];\r\n                buildWall(p.width, p.height)\r\n            }\r\n\r\n             p.themes = [\r\n                { name: 'Cool Contrast', ranges: [[230, 260], [10, 50], [120, 150]] },\r\n                { name: 'Warm Spectrum', ranges: [[0, 40], [180, 220], [300, 340]] },\r\n                { name: 'Vibrant Mix', ranges: [[60, 90], [240, 270], [330, 360]] },\r\n                { name: 'Ocean Depths', ranges: [[180, 210], [30, 60], [300, 330]] },\r\n                { name: 'Sunset Journey', ranges: [[10, 40], [240, 270], [120, 150]] },\r\n                { name: 'Original Blue', ranges: [[230, 260], [60, 120], [0, 40]] },\r\n                { name: 'Original Green', ranges: [[60, 120], [0, 40], [230, 260]] },\r\n                { name: 'Original Warm', ranges: [[0, 40], [230, 260], [60, 120]] }\r\n            ];\r\n\r\n            p.currentTheme = null;\r\n\r\n            p.setup = () => {\r\n                p.canvas = p.createCanvas(p.canvasWidth, p.canvasHeight);\r\n                p.colorMode(p.HSB);\r\n                p.currentTheme = Math.random() < 0.4 ? p.themes[6] : p.random(p.themes);\r\n                init()\r\n                Runner.run(runner, engine)\r\n            }\r\n\r\n            p.draw = () => {\r\n                p.background(0);\r\n                blobs.forEach((blob) => {\r\n                    p.push();\r\n                    p.fill(255);\r\n                    blob.show();\r\n                    p.pop();\r\n                });\r\n\r\n                showWall()\r\n            }\r\n\r\n            p.maxCount = 4;\r\n\r\n            p.executeCueSet1 = ({currentCue}) => {\r\n                if(currentCue > 1 && currentCue < 162 && currentCue % 18 === 1) {\r\n                    removeWall()\r\n                    setTimeout(() => {\r\n                        blobs = new Map();\r\n                        init()\r\n                        p.maxCount++;\r\n                    }, 500);\r\n                }\r\n                \r\n                const count = p.floor(p.random(3, p.maxCount));\r\n                const hue = p.random(...p.currentTheme.ranges[0]);\r\n                const colour = p.color(hue, p.random(80, 100), p.random(60, 80), p.random(0.6, 0.9));\r\n                addRandomBlobs(count, colour)\r\n            };\r\n\r\n            p.executeCueSet2 = () => {\r\n                const count = p.floor(p.random(3, p.maxCount));\r\n                const hue = p.random(...p.currentTheme.ranges[1]);\r\n                const colour = p.color(hue, p.random(70, 90), p.random(60, 80), p.random(0.6, 0.9));\r\n                addRandomBlobs(count, colour)\r\n            }\r\n\r\n            p.executeCueSet3 = () => {\r\n                const count = p.floor(p.random(3, p.maxCount));\r\n                const hue = p.random(...p.currentTheme.ranges[2]);\r\n                const colour = p.color(hue, p.random(60, 100), p.random(80, 100), p.random(0.6, 0.9));\r\n                addRandomBlobs(count, colour)\r\n            }\r\n\r\n            const addRandomBlobs = (count, color) => {\r\n                for(let i = 0; i < count; i++) {\r\n                    idCount++;\r\n                    const pos = [p.random(p.width), p.random(p.height * 0.1)];\r\n                    const baseSize = p.canvasWidth * 0.03;\r\n                    const nodeNum = p.random([baseSize * 0.4, baseSize * 0.8, baseSize * 1.2]);\r\n                    const isFill = p.random([false, true]);\r\n                    const isLayered = i < 1;\r\n                    blobs.set(idCount, Blob(...pos, nodeNum, color, isFill, isLayered));\r\n                }\r\n            }\r\n\r\n            const MAX_THICKNESS = p.canvasWidth * 0.02;\r\n            const walls = {};\r\n\r\n            const Wall = (x, y, w, h, dir, opt) => {\r\n                const body = Bodies.rectangle(x, y, w, h, opt);\r\n                let thickness = 0;\r\n                Composite.add(world, body);\r\n                return {\r\n                    body,\r\n                    show: () => {\r\n                        p.push();\r\n                        p.translate(body.position.x, body.position.y);\r\n                        p.rotate(body.angle);\r\n                        p.rectMode(p.CENTER);\r\n                        p.noStroke();\r\n                        if (dir === \"hor\") p.rect(0, 0, p.min((thickness += 5), w), h);\r\n                        if (dir === \"ver\") p.rect(0, 0, w, p.min((thickness += 5), h));\r\n                        p.pop();\r\n                    },\r\n                    remove: () => Composite.remove(world, body)\r\n                };\r\n            };\r\n\r\n            const buildWall = (w, h) => {\r\n                const opt = { isStatic: true };\r\n                walls.t = Wall(w/2, 0, w, MAX_THICKNESS, \"ver\", opt);\r\n                walls.b = Wall(w/2, h, w, MAX_THICKNESS, \"ver\", opt);\r\n                walls.r = Wall(w, h/2, MAX_THICKNESS, h, \"hor\", opt);\r\n                walls.l = Wall(0, h/2, MAX_THICKNESS, h, \"hor\", opt);\r\n            };\r\n\r\n            const showWall = () => {\r\n                walls.t.show()\r\n                walls.b.show()\r\n                walls.r.show()\r\n                walls.l.show()\r\n            }\r\n\r\n            const removeWall = () => {\r\n                walls.t.remove()\r\n                walls.b.remove()\r\n                walls.r.remove()\r\n                walls.l.remove()\r\n            }\r\n\r\n            p.mousePressed = () => {\r\n                if(p.audioLoaded){\r\n                    if (p.song.isPlaying()) {\r\n                        p.song.pause();\r\n                    } else {\r\n                        if (parseInt(p.song.currentTime()) >= parseInt(p.song.buffer.duration)) {\r\n                            p.reset();\r\n                        }\r\n                        document.getElementById(\"play-icon\").classList.add(\"fade-out\");\r\n                        p.canvas.addClass(\"fade-in\");\r\n                        p.song.play();\r\n                    }\r\n                }\r\n            }\r\n\r\n            p.creditsLogged = false;\r\n\r\n            p.logCredits = () => {\r\n                if (!p.creditsLogged && parseInt(p.song.currentTime()) >= parseInt(p.song.buffer.duration)) {\r\n                    p.creditsLogged = true;\r\n                    console.log(\"Music By: http://labcat.nz/\", \"\\n\", \"Animation By: https://github.com/LABCAT/\");\r\n                    p.song.stop();\r\n                }\r\n            };\r\n\r\n            p.reset = () => {\r\n                p.background(0);\r\n            }\r\n\r\n            p.updateCanvasDimensions = () => {\r\n                p.canvasWidth = window.innerWidth;\r\n                p.canvasHeight = window.innerHeight;\r\n                p.canvas = p.resizeCanvas(p.canvasWidth, p.canvasHeight);\r\n            }\r\n\r\n            if (window.attachEvent) {\r\n                window.attachEvent('onresize', () => p.updateCanvasDimensions());\r\n            }\r\n            else if (window.addEventListener) {\r\n                window.addEventListener('resize', () => p.updateCanvasDimensions(), true);\r\n            }\r\n        };\r\n\r\n        useEffect(() => {\r\n            new p5(Sketch, sketchRef.current);\r\n        }, []);\r\n\r\n        return (\r\n            <div ref={sketchRef}>\r\n                <PlayIcon />\r\n            </div>\r\n        );\r\n    };\r\n\r\n    export default P5SketchWithAudio;","import P5SketchWithAudio from './P5SketchWithAudio'\n\nfunction App() {\n  return (\n    <P5SketchWithAudio/>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/build.css';\nimport App from './js/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}